query GetProfile {
  profile {
    name
  }
}

query GetChats($first: Int!, $offset: Int!) {
  getChats(first: $first, offset: $offset) {
    id
    name
    createdAt
    voice
    messages {
      id
      text
      role
      createdAt
      imageUrls
      toolCalls {
        id
        name
        isCompleted
        messageId
        result {
          content
          imageUrls
        }
      }
      toolResults
    }
  }
}

query GetChat($id: ID!) {
  getChat(id: $id) {
    id
    name
    createdAt
    voice
    messages {
      id
      text
      imageUrls
      role
      createdAt
      toolCalls {
        id
        name
        isCompleted
        messageId
        result {
          content
          imageUrls
        }
      }
      toolResults
    }
  }
}

query GetDataSources {
  getDataSources {
    id
    name
    path
    updatedAt
    isProcessed
    isIndexed
    hasError
  }
}

query GetOAuthStatus {
  getOAuthStatus {
    provider
    expiresAt
    scope
  }
}

query GetChatSuggestions($chatId: ID!) {
  getChatSuggestions(chatId: $chatId) {
    category
    suggestions
  }
}

query GetMCPServers {
  getMCPServers {
    id
    name
    command
    args
    envs {
      key
      value
    }
    type
    enabled
    connected
  }
}

query GetAgentTasks {
  getAgentTasks {
    id
    name
    schedule
    plan
    createdAt
    updatedAt
    completedAt
    terminatedAt
    output
    notify
  }
}

query GetTools {
  getTools {
    name
    description
  }
}

query GetSetupProgress {
  getSetupProgress {
    name
    status
    progress
    required
  }
}

mutation CreateChat($name: String!, $voice: Boolean! = false) {
  createChat(name: $name, voice: $voice) {
    id
    name
    createdAt
    voice
  }
}

mutation SendMessage($chatId: ID!, $text: String!, $reasoning: Boolean!, $voice: Boolean!) {
  sendMessage(chatId: $chatId, text: $text, reasoning: $reasoning, voice: $voice) {
    id
    text
    role
    createdAt
    imageUrls
    toolResults
    toolCalls {
      id
      name
      isCompleted
      result {
        content
        imageUrls
      }
    }
  }
}

mutation DeleteChat($chatId: ID!) {
  deleteChat(chatId: $chatId) {
    id
    name
  }
}

mutation UpdateProfile($input: UpdateProfileInput!) {
  updateProfile(input: $input)
}

subscription MessageAdded($chatId: ID!) {
  messageAdded(chatId: $chatId) {
    id
    text
    role
    createdAt
    imageUrls
    toolResults
    toolCalls {
      id
      name
      isCompleted
      messageId
      result {
        content
        imageUrls
      }
    }
  }
}

subscription ToolCallUpdated($chatId: ID!) {
  toolCallUpdated(chatId: $chatId) {
    id
    name
    isCompleted
    messageId
    result {
      content
      imageUrls
    }
  }
}

subscription IndexingStatus {
  indexingStatus {
    status
    error
    dataSources {
      id
      name
      isProcessed
      isIndexed
      indexProgress
      hasError
    }
  }
}

subscription NotificationAdded {
  notificationAdded {
    id
    title
    message
    image
    link
    createdAt
  }
}

subscription MessageStream($chatId: ID!) {
  messageStream(chatId: $chatId) {
    messageId
    chunk
    role
    isComplete
    createdAt
    imageUrls
  }
}

subscription WhatsAppSyncStatus {
  whatsAppSyncStatus {
    isSyncing
    isCompleted
    error
    statusMessage
  }
}
mutation AddDataSource($name: String!, $path: String!) {
  addDataSource(name: $name, path: $path)
}

mutation DeleteDataSource($id: ID!) {
  deleteDataSource(id: $id)
}

mutation StartOAuthFlow($provider: String!, $scope: String!) {
  startOAuthFlow(provider: $provider, scope: $scope) {
    authURL
    redirectURI
  }
}

mutation CompleteOAuthFlow($state: String!, $authCode: String!) {
  completeOAuthFlow(state: $state, authCode: $authCode)
}

mutation DeleteAgentTask($id: ID!) {
  deleteAgentTask(id: $id)
}

mutation UpdateAgentTask($id: ID!, $notify: Boolean!) {
  updateAgentTask(id: $id, notify: $notify)
}

mutation ConnectMCPServer($input: ConnectMCPServerInput!) {
  connectMCPServer(input: $input)
}

mutation RemoveMCPServer($id: String!) {
  removeMCPServer(id: $id)
}

query GetWhatsAppStatus {
  getWhatsAppStatus {
    isConnected
    qrCodeData
    statusMessage
  }
}

mutation StartWhatsAppConnection {
  startWhatsAppConnection
}
