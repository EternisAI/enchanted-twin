query GetProfile {
  profile {
    name
  }
}

query GetChats($first: Int!, $offset: Int!) {
  getChats(first: $first, offset: $offset) {
    id
    name
    createdAt
    messages {
      id
      text
      role
      createdAt
      imageUrls
      toolCalls {
        id
        name
        isCompleted
        messageId
      }
      toolResults
    }
  }
}

query GetChat($id: ID!) {
  getChat(id: $id) {
    id
    name
    createdAt
    messages {
      id
      text
      imageUrls
      role
      createdAt
      toolCalls {
        id
        name
        isCompleted
        messageId
      }
      toolResults
    }
  }
}

query GetDataSources {
  getDataSources {
    id
    name
    path
    updatedAt
    isProcessed
    isIndexed
    hasError
  }
}

query GetOAuthStatus {
  getOAuthStatus {
    provider
    expiresAt
    scope
  }
}

query GetChatSuggestions($chatId: ID!) {
  getChatSuggestions(chatId: $chatId) {
    category
    suggestions
  }
}

query GetMCPServers {
  getMCPServers {
    id
    name
    command
    args
    envs {
      key
      value
    }
    type
    enabled
    connected
  }
}

query GetAgentTasks {
  getAgentTasks {
    id
    name
    schedule
    plan
    createdAt
    updatedAt
    completedAt
    endedAt
    output
  }
}

mutation CreateChat($name: String!) {
  createChat(name: $name) {
    id
    name
    createdAt
  }
}

mutation SendMessage($chatId: ID!, $text: String!) {
  sendMessage(chatId: $chatId, text: $text) {
    id
    text
    role
    createdAt
    imageUrls
    toolResults
    toolCalls {
      id
      name
      isCompleted
    }
  }
}

mutation DeleteChat($chatId: ID!) {
  deleteChat(chatId: $chatId) {
    id
    name
  }
}

mutation UpdateProfile($input: UpdateProfileInput!) {
  updateProfile(input: $input)
}

subscription MessageAdded($chatId: ID!) {
  messageAdded(chatId: $chatId) {
    id
    text
    role
    createdAt
    imageUrls
    toolResults
    toolCalls {
      id
      name
      isCompleted
      messageId
    }
  }
}

subscription ToolCallUpdated($chatId: ID!) {
  toolCallUpdated(chatId: $chatId) {
    id
    name
    isCompleted
    messageId
  }
}

subscription IndexingStatus {
  indexingStatus {
    status
    error
    dataSources {
      id
      name
      isProcessed
      isIndexed
      indexProgress
      hasError
    }
  }
}

subscription NotificationAdded {
  notificationAdded {
    id
    title
    message
    image
    link
    createdAt
  }
}

subscription MessageStream($chatId: ID!) {
  messageStream(chatId: $chatId) {
    messageId
    chunk
    role
    isComplete
    createdAt
    imageUrls
  }
}

mutation AddDataSource($name: String!, $path: String!) {
  addDataSource(name: $name, path: $path)
}

mutation DeleteDataSource($id: ID!) {
  deleteDataSource(id: $id)
}

mutation StartOAuthFlow($provider: String!, $scope: String!) {
  startOAuthFlow(provider: $provider, scope: $scope) {
    authURL
    redirectURI
  }
}

mutation CompleteOAuthFlow($state: String!, $authCode: String!) {
  completeOAuthFlow(state: $state, authCode: $authCode)
}

mutation DeleteAgentTask($id: ID!) {
  deleteAgentTask(id: $id)
}
