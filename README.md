![Release](https://badgen.net/github/release/eternisai/enchanted-twin?color=green&style=flat)
![Beta](https://badgen.net/github/release/eternisai/enchanted-twin/pre?color=blue&label=beta&style=flat)
![Stars](https://badgen.net/github/stars/eternisai/enchanted-twin?style=flat)
![Go](https://badgen.net/badge/go/1.24.2/blue?style=flat)
![Build Status](https://badgen.net/github/checks/eternisai/enchanted-twin?style=flat)
[![Twitter](https://badgen.net/badge/twitter/@freysa_ai/blue?style=flat)](https://twitter.com/freysa_ai)
![macOS](https://badgen.net/badge/platform/macOS%20Apple%20Silicon/gray?style=flat)

# Enchanted-Twin

<img src="https://i.ibb.co/0yfry3xc/Xnapper-2025-07-28-17-24-29.jpg" alt="Enchanted Twin Screenshot" width="800"/>

Enchanted is a personal AI assistant focused on privacy.

> The production release of the Enchanted app includes a subset of the features listed in this GitHub repository, as new functionalities undergo testing. Beta features are available in the development release.

## Install

[![Download for macOS](https://badgen.net/badge/Download/macOS%20Apple%20Silicon/blue?style=flat&icon=apple)](https://github.com/EternisAI/enchanted-twin/releases/download/v0.0.189/Enchanted-0.0.189-arm64.dmg)

Or browse all versions at [GitHub releases](https://github.com/EternisAI/enchanted-twin/releases).

## Features

- Fully local support (Ollama)
- Support for for requests proxy in a trusted enclave
- Support for Open source and Closed source LLMs
- Default MCP server support (Gmail, Google Drive, Calendar, X, Slack, Screenpipe) `beta`
- Add custom MCP servers (stdio, remote) `beta`
- Advance memory (fact extraction, memory consolidation, embedding search)
- Support for local embeddings (JinaAI)
- Support for local anonymiser model `pre-release`
- Data Imports (WhatsApp, ChatGPT, Telegram, Slack, Google-Gmail, X, Local Files) `beta`
- Voice mode and Voice onboarding `beta`
- Global omnibar
- Scheduled tasks and periodic tasks
- Permissions management
- Light & Dark mode

## AI privacy levels

What gives Enchanted the right to exist is a tremendous focus on privacy. Official release of Enchanted uses a combination of local models, open sources models in a Trusted Execution Environment as well as closed source models behind a privacy proxy.

- Requests to closed source models are proxied through a router running in a trusted execution environment, ensuring that closed source model providers cannot match requests to users.
- The embeddings model runs locally on the user's device.
- Voice models run in a trusted execution environment.
- Anonymiser model is running locally on the user's device. `beta` (Coming soon)

Main codebase for Enchanted is open source and available on [GitHub](https://github.com/eternisai/enchanted-twin). In addition the proxy codebase can be found [here](https://github.com/EternisAI/enchanted-proxy) while the attestation proxy exposing cryptographic attestation documents generated by the Nitro Hypervisor for AWS Nitro Enclaves can be found [here](https://github.com/EternisAI/attestation-proxy).

Developers on the other hand can chose one of many ways of using AI Completions and Embeddings in Enchanted depending on the privacy requirements.

## Connectivity & Integrations

### Data Sources `beta`

Enchanted supports many predefined data sources to ingest data from. These data sources
can be used to build the memory for your agent about you. All imported data is stored
locally on the user's device.

![Data Sources Screenshot 2](https://i.ibb.co/99Q9M385/Xnapper-2025-07-28-19-22-12.jpg?cb=1)

### MCP Servers `beta`

Enchanted comes with built-in support for popular services:

- **Gmail**: Email management and search
- **Google Drive**: File access and organization
- **Calendar**: Schedule management and event creation
- **X (Twitter)**: Social media interaction
- **Slack**: Team communication and workflow
- **Screenpipe**: Screen and audio capture analysis

Users can also add custom MCP servers following stdin or remote protocol.

![Data Sources Screenshot 1](https://i.ibb.co/ycKSB4tL/Xnapper-2025-07-28-19-29-43.jpg?cb=1)

## Memory & Knowledge Management

### Advanced Memory System

- **Fact Extraction**: Automatically identify and store important information from conversations
- **Memory Consolidation**: Intelligently merge and organize related memories for better recall
- **Embedding Search**: Semantic search across your entire knowledge base
- **Context Preservation**: Maintain conversation context across sessions

## Voice Capabilities `beta`

### Voice Mode

Natural voice conversations with your AI assistant

### Voice Onboarding

Audio-guided setup process for hands-free configuration

## Interface & Accessibility

### Global Omnibar

Instantly open the Omnibar from any application with <kbd>‚åò</kbd> + <kbd>‚å•</kbd> + <kbd>O</kbd>

![Global Omnibar Screenshot](https://i.ibb.co/nqxjzHpG/Xnapper-2025-07-28-19-44-01.jpg?cb=1)

### Light & Dark Mode

![Light & Dark Mode Screenshot](https://i.ibb.co/RGKwvpBy/Xnapper-2025-07-28-20-16-43.jpg?cb=1)

### Keyboard Shortcuts

Set custom keyboard shortcuts for your most used actions.

![Keyboard Shortcuts Screenshot](https://i.ibb.co/t6zzQgF/Xnapper-2025-07-28-20-19-37.jpg?cb=2)

## Demos

### Agentic tool use

<video src="https://d1vu5azmz7om3b.cloudfront.net/videos/external/agentictools.webm"></video>

<video src="https://d1vu5azmz7om3b.cloudfront.net/videos/external/agentictools.webm" controls></video>

### Tasks

<video src="https://d1vu5azmz7om3b.cloudfront.net/videos/external/tasksTwo.webm" controls></video>

### Gmail MCP

<video src="https://d1vu5azmz7om3b.cloudfront.net/videos/external/googleMCP_Email.webm" controls></video>

### Google Calendar MCP

<video src="https://d1vu5azmz7om3b.cloudfront.net/videos/external/googleDrive_filesSummarize.webm" controls></video>

## Development

Backend stack: Go, temporal, gqlgen, sqlc, nats, weaviate
Frontend stack: Electron, React, Tanstack Router, Tailwind, shadcn

Requirements

- Go
- pnpm
- Node.js
- LLM (OpenAI, OpenRouter)

### Frontend

1. Navigate to the `app` directory
1. Rename `.env.sample` to `.env` and update the variables
1. Install packages `pnpm install`
1. Run the app `cd app && pnpm dev`

### Backend

1. Navigate to `backend/golang`
1. Rename `.env.sample` to `.env` and update env variables
1. Run the server `make run`

Common development commands:

- `make build` - Build the binary
- `make test` - Run tests
- `make lint` - Auto-fix formatting and run linters
- `make deadcode` - Check for unused code
- `make gqlgen` - Generate GraphQL resolvers
- `make sqlc` - Generate database bindings

### GraphQL

Backend

On the backend side GraphQL resolvers (`schema.resolvers.go`) are code-generated from the schema `schema.graphqls`. Steps to update the schema

1. Propose schema changes in `schema.graphqls`.
1. Generate resolvers using `make gqlgen` in `backend/golang` directory.
1. This will generate additional code in `schema.resolvers.go`.

Frontend

Frontend uses `schema.graphqls` as the source of truth to code generate queries/mutations/subscriptions using `pnpm codegen`.

### Testing

#### E2E Testing with Docker

For comprehensive end-to-end testing in isolated environments:

```bash
# Quick setup validation
npm run docker:validate

# Run e2e tests in Docker
npm run test:e2e:docker

# Debug mode (keeps containers running)
npm run test:e2e:docker:debug

# Clean rebuild and test
npm run test:e2e:docker:clean
```

The Docker e2e setup provides:
- üê≥ **Isolated environment** - Clean, reproducible test conditions
- üìä **Comprehensive logging** - Real-time log streaming for debugging
- üöÄ **CI/CD ready** - Optimized GitHub Actions integration
- üîß **Developer friendly** - Easy local testing with full stack

See [Docker E2E Testing Guide](docs/DOCKER_E2E_TESTING.md) for detailed documentation.

#### Local E2E Testing

For quick local testing without Docker:

```bash
# Traditional e2e tests
cd app && pnpm test:e2e:master
```

## Troubleshooting

- If you see a database (either SQLite or Weaviate) delete local directory `output` for testing.

- Application data on Mac is `~/Library/Application Support/enchanted`

- Logs data on Mac is `~/Library/Logs/enchanted`
